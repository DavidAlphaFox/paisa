<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>₹ Paisa</title>
        <meta name="robots" content="noindex" />
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="introduction.html">Introduction</a></li><li class="chapter-item expanded affix "><li class="part-title">Getting Started</li><li class="chapter-item expanded "><a href="installation.html"><strong aria-hidden="true">1.</strong> Installation</a></li><li class="chapter-item expanded "><a href="tutorial.html"><strong aria-hidden="true">2.</strong> Tutorial</a></li><li class="chapter-item expanded affix "><li class="part-title">Reference Guide</li><li class="chapter-item expanded "><a href="accounts.html"><strong aria-hidden="true">3.</strong> Accounts</a></li><li class="chapter-item expanded "><a href="commodities.html"><strong aria-hidden="true">4.</strong> Commodities</a></li><li class="chapter-item expanded "><a href="allocation-targets.html"><strong aria-hidden="true">5.</strong> Allocation Targets</a></li><li class="chapter-item expanded "><a href="tax-harvesting.html"><strong aria-hidden="true">6.</strong> Tax Harvesting</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">₹ Paisa</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="introduction"><a class="header" href="#introduction">Introduction</a></h1>
<p><strong>Paisa</strong> is a command line tool and WebGUI to manage personal
finance, specially tailored for Indians. It builds on top of the
<a href="https://www.ledger-cli.org/">ledger</a> double entry accounting tool.</p>
<ul>
<li>Your financial data never leaves your system.</li>
<li>The journal and config information are stored in plain text files
that can be easily version controlled.</li>
<li>Can track the latest market price of Mutual Funds and NPS Funds holdings.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="installation"><a class="header" href="#installation">Installation</a></h1>
<ul>
<li>Follow the installation instruction in <a href="https://www.ledger-cli.org/download.html">ledger</a> site and install
<strong>ledger</strong>. Windows users can install ledger via <a href="https://community.chocolatey.org/packages/ledger">chocolatey</a>.</li>
<li>Download the latest prebuilt <a href="https://github.com/ananthakumaran/paisa/releases/latest">binary</a></li>
</ul>
<h2 id="quick-start"><a class="header" href="#quick-start">Quick Start</a></h2>
<p>Run the following commands to checkout <strong>paisa</strong> features. Read the
tutorial to understand the details.</p>
<pre><code class="language-shell">❯ mkdir finance
❯ cd finance
❯ paisa init
INFO Generating config file: /home/john/finance/paisa.yaml
INFO Generating journal file: /home/john/finance/personal.ledger
❯ paisa update
INFO Using config file: /home/john/finance/paisa.yaml
INFO Syncing transactions from journal
INFO Fetching commodities price history
INFO Fetching commodity NIFTY
INFO Fetching commodity NIFTY_JR
❯ paisa serve
INFO Using config file: /home/john/finance/paisa.yaml
INFO Listening on 7500
</code></pre>
<p>Go to <a href="http://localhost:7500">http://localhost:7500</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="tutorial"><a class="header" href="#tutorial">Tutorial</a></h1>
<p>This tutorial will introduce all the concepts necessary to get
started. <strong>Paisa</strong> builds on top of <strong>ledger</strong>, so we will first spend
some time to familiarize the <a href="https://github.com/ledger/ledger/blob/master/doc/GLOSSARY.md">terms and concepts</a> used by <strong>ledger</strong></p>
<h2 id="journal"><a class="header" href="#journal">Journal</a></h2>
<p>A journal file captures all your financial transactions. A transaction
may represent a mutual fund purchase, EPF contribution and so
on. Let's create a file named <code>personal.ledger</code> with the following
content</p>
<pre><code class="language-go">2022/01/01 Salary
    Income:Salary:Acme                         -100,000 INR
    Assets:Checking                             100,000 INR
</code></pre>
<p><strong>ledger</strong> follows the double-entry accounting system. In simple terms, it
tracks the movement of money from debit account to credit
account. Here <code>Income:Salary:Acme</code> is the debit account and
<code>Assets:Checking</code> is the credit account. The date at which the
transaction took place and a description of the transaction is written
in the first line followed by the list of credit or debit
entry. Account <a href="./accounts.html">naming conventions</a> are explained later. The <code>:</code> in the account name
represents hierarchy. Its use will become more clear when we look at
the reports generated by ledger. The sum of the balance of all the
accounts must be zero.</p>
<pre><code class="language-go">2022/01/01 Salary
    Income:Salary:Acme                         -100,000 INR
    Assets:Checking                             100,000 INR

2022/02/01 Salary
    Income:Salary:Acme                         -100,000 INR
    Assets:Checking                             100,000 INR

2022/03/01 Salary
    Income:Salary:Acme                         -100,000 INR
    Assets:Checking                             100,000 INR
</code></pre>
<p>let's add few more entries. The total balance in your savings account
could be found by</p>
<pre><code class="language-go">❯ ledger -f personal.ledger balance Assets:Checking
300,000 INR  Assets:Checking
</code></pre>
<p>Let's say your company deducts 12,000 INR and contributes it to EPF,
we could represent it as follows</p>
<pre><code class="language-go">2022/01/01 Salary
    Income:Salary:Acme                         -100,000 INR
    Assets:Checking                              88,000 INR
    Assets:Debt:EPF                              12,000 INR

2022/02/01 Salary
    Income:Salary:Acme                         -100,000 INR
    Assets:Checking                              88,000 INR
    Assets:Debt:EPF                              12,000 INR

2022/03/01 Salary
    Income:Salary:Acme                         -100,000 INR
    Assets:Checking                              88,000 INR
    Assets:Debt:EPF                              12,000 INR
</code></pre>
<pre><code class="language-shell">❯ ledger -f personal.ledger balance Assets
          36,000 INR  Assets:Debt:EPF
         264,000 INR  Assets:Checking
--------------------
         300,000 INR
</code></pre>
<h2 id="commodity"><a class="header" href="#commodity">Commodity</a></h2>
<p>So far we have only dealt with INR. <strong>ledger</strong> can handle commodity as
well. Let's say you are also investing 10,000 INR in UTI Nifty Index
Fund and 10,000 INR in ICICI Nifty Next 50 Index Fund every
month.</p>
<pre><code class="language-go">2018/01/01 Investment
    Assets:Checking                              -20,000 INR
    Assets:Equity:NIFTY         148.0865 NIFTY @ 67.5281 INR
    Assets:Equity:NIFTY_JR   358.6659 NIFTY_JR @ 27.8811 INR

2018/02/01 Investment
    Assets:Checking                              -20,000 INR
    Assets:Equity:NIFTY         140.2870 NIFTY @ 71.2824 INR
    Assets:Equity:NIFTY_JR   363.2242 NIFTY_JR @ 27.5312 INR

2018/03/01 Investment
    Assets:Checking                              -20,000 INR
    Assets:Equity:NIFTY         147.5908 NIFTY @ 67.7549 INR
    Assets:Equity:NIFTY_JR   378.4323 NIFTY_JR @ 26.4248 INR
</code></pre>
<p>Let's consider <code>148.0865 NIFTY @ 67.5281 INR</code>. Here NIFTY is the name
of the commodity and we have bought 148.0865 units at 67.5281 INR per
unit.</p>
<pre><code>❯ ledger -f personal.ledger balance Assets --market
          94,615 INR  Assets
          36,000 INR    Debt:EPF
          58,615 INR    Equity
          29,539 INR      NIFTY
          29,076 INR      NIFTY_JR
--------------------
          94,615 INR
</code></pre>
<h2 id="interest"><a class="header" href="#interest">Interest</a></h2>
<p>There are many instruments like EPF, FD, etc that pay interest at
regular intervals. We can treat it as just another transaction.</p>
<pre><code class="language-go">2022/03/31 EPF Interest
    Income:Interest:EPF                         -15,000 INR
    Assets:Debt:EPF                              15,000 INR
</code></pre>
<h2 id="config"><a class="header" href="#config">Config</a></h2>
<p>So far we have been mostly talking about <strong>ledger</strong>. We need to know
the basics of <strong>ledger</strong> because <strong>paisa</strong> builds on top of
<strong>ledger</strong>.</p>
<p><strong>paisa</strong> checks for a config file named <code>paisa.yaml</code> in the current
directory. It can also be set via flag <code>--config</code> or env variable
<code>PAISA_CONFIG</code>.</p>
<pre><code class="language-yaml"># absolute path of journal file
journal_path: /home/john/finance/personal.ledger
# absolute path of sql database
db_path: /home/john/finance/paisa.db
# commodities list
commodities:
  - name: NIFTY
    type: mutualfund
    code: 120716
  - name: NIFTY_JR
    type: mutualfund
    code: 120684
</code></pre>
<p><strong>paisa</strong> can fetch the latest price of mutual funds and nps funds as
of today. For other types of commodities, the purchase/sell price of
the last transaction would be considered the latest price. The code is
the scheme code of the fund. The <em>search</em> command can be used to find
scheme code</p>
<pre><code class="language-shell">❯ paisa search mutualfund
INFO Using config file: /home/john/finance/paisa.yaml
INFO Using cached results; pass '-u' to update the cache
✔ ICICI Prudential Asset Management Company Limited
✔ ICICI Prudential Nifty Next 50 Index Fund - Direct Plan -  Growth
INFO Mutual Fund Scheme Code: 120684
</code></pre>
<p>You might see a lot of funds with similar names. The search command
supports crude fuzzy search. For example, <code>nifty next grow direct</code> would match the above fund.</p>
<h2 id="update"><a class="header" href="#update">Update</a></h2>
<p>Once the config file is created, run the update command, followed by
the serve command.</p>
<pre><code class="language-shell">❯ paisa update
INFO Using config file: /home/john/finance/paisa.yaml
INFO Syncing transactions from journal
INFO Fetching commodities price history
INFO Fetching commodity NIFTY
INFO Fetching commodity NIFTY_JR
❯ paisa serve
INFO Using config file: /home/john/finance/paisa.yaml
INFO Listening on 7500
</code></pre>
<p>You can then go to <a href="http://localhost:7500">http://localhost:7500</a> to view more
details. The update command loads all the transactions from journal
file and fetch the latest price of all the commodities. Whenever you
make any changes to the journal file, you need to run the update
command. The serve command starts a local server and provides the
WebGUI.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="accounts"><a class="header" href="#accounts">Accounts</a></h1>
<p>Even though <strong>ledger</strong> doesn't have any Account naming convention,
<strong>paisa</strong> makes lot of assumptions and expects you to follow the same
naming convention.</p>
<p>There are four types of account namely</p>
<ol>
<li>Assets</li>
<li>Liabilities</li>
<li>Income</li>
<li>Expenses</li>
</ol>
<p><img src="images/flow.png" alt="Flow" /></p>
<p>Money flows from Income to Assets, from Assets to either Expenses,
Liabilities or other Assets, from Liabilities to Expenses.</p>
<h3 id="checking"><a class="header" href="#checking">Checking</a></h3>
<p>Your checking account should be named <code>Assets:Checking</code>.</p>
<h3 id="assets"><a class="header" href="#assets">Assets</a></h3>
<p>All your assets should go under <code>Assets:</code>. The level of granularity is
up to you. The recommended convention is to use
<code>Assets:{instrument_type}:{instrument_name}</code>. The instrument type may
be <code>Cash</code>, <code>Equity</code>, <code>Debt</code>, etc. The instrument name may be the name of
the fund, stock, etc</p>
<h3 id="income"><a class="header" href="#income">Income</a></h3>
<p>All your income should come from <code>Income:</code>.</p>
<ul>
<li><code>Income:Salary:{company}</code> - salary debit account</li>
<li><code>Income:Interest:{name}</code> - interest debit account</li>
</ul>
<h3 id="tax"><a class="header" href="#tax">Tax</a></h3>
<p>Income tax paid to government should be credited to <code>Expenses:Tax</code> account</p>
<h3 id="expenses"><a class="header" href="#expenses">Expenses</a></h3>
<p>All your expenses should go to <code>Expenses:{category}</code> accounts.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="commodities"><a class="header" href="#commodities">Commodities</a></h1>
<p>There are no restrictions on the type of <strong>commodities</strong> that can be
used in <strong>paisa</strong>. Anything like gold, mutual fund, NPS, etc can be
tracked as a commodity. Few example transactions can be found below.</p>
<pre><code class="language-go">2019/02/18 NPS
    Assets:Equity:NPS:SBI:E           15.9378 NPS_SBI_E @ 23.5289 INR
;// account name                      units   commodity   purchase price
;//                                           name        per unit
    Assets:Checking

2019/02/21 NPS
    Assets:Equity:NPS:SBI:E           1557.2175 NPS_SBI_E @ 23.8406 INR
    Assets:Checking

2020/06/25 Gold
    Assets:Gold                       40 GOLD @ 4650 INR
    Assets:Checking
</code></pre>
<p><strong>paisa</strong> comes with inbuilt support for fetching the latest price of
some commodities like mutual fund and NPS. For others, it will try to
use the latest purchase price specified in the journal. For example,
when you enter the second NPS transaction on <code>2019/02/21</code>, the
valuation of your existing holdings will be adjusted based on the new
purchase price.</p>
<h2 id="mutual-fund"><a class="header" href="#mutual-fund">Mutual Fund</a></h2>
<p>To automatically track the latest value of your mutual funds holdings,
you need to link the commodity and the fund scheme code.</p>
<pre><code class="language-yaml">commodities:
  - name: NIFTY      # commodity name
    type: mutualfund # type
    code: 120716     # mutual fund scheme code
  - name: NIFTY_JR
    type: mutualfund
    code: 120684
</code></pre>
<p>The example config above links two commodities with their respective
mutual fund scheme code. The scheme code can be found using the
<em>search</em> command.</p>
<pre><code class="language-shell">❯ paisa search mutualfund
INFO Using config file: /home/john/finance/paisa.yaml
INFO Using cached results; pass '-u' to update the cache
✔ ICICI Prudential Asset Management Company Limited
✔ ICICI Prudential Nifty Next 50 Index Fund - Direct Plan -  Growth
INFO Mutual Fund Scheme Code: 120684
</code></pre>
<h2 id="nps"><a class="header" href="#nps">NPS</a></h2>
<p>To automatically track the latest value of your nps funds holdings,
you need to link the commodity and the fund scheme code.</p>
<pre><code class="language-yaml">commodities:
  - name: NPS_HDFC_E      # commodity name
    type: nps             # type
    code: SM008002        # nps fund scheme code
</code></pre>
<p>The example config above links NPS fund commodity with their
respective NPS fund scheme code. The scheme code can be found using
the <em>search</em> command.</p>
<pre><code>❯ paisa search nps
INFO Using config file: /home/john/finance/paisa.yaml
INFO Using cached results; pass '-u' to update the cache
✔ HDFC Pension Management Company Limited
✔ HDFC PENSION MANAGEMENT COMPANY LIMITED SCHEME C - TIER I
INFO NPS Fund Scheme Code: SM008002
</code></pre>
<h2 id="updates"><a class="header" href="#updates">Updates</a></h2>
<p><strong>paisa</strong> fetches the latest price of the commodities only when
<em>update</em> command is used. Make sure to run <code>paisa update</code> command
after you make any changes to your journal file or you want to fetch
the latest value of the commodities.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="allocation-targets"><a class="header" href="#allocation-targets">Allocation Targets</a></h1>
<p>Paisa allows you to set a allocation target for a group of
accounts. The allocation page shows how far your current allocation is
from the allocation target. For example, to keep a 40:60 split between
debt and equity, add the following configuration to the <code>paisa.yaml</code>
file. The account name can have <code>*</code> which matches any characters</p>
<pre><code class="language-yaml">allocation_targets:
  - name: Debt
    target: 40
    accounts:
      - Assets:Debt:*
  - name: Equity
    target: 60
    accounts:
      - Assets:Equity:*
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="tax-harvesting"><a class="header" href="#tax-harvesting">Tax Harvesting</a></h1>
<p>Mutual Funds gains are subject to capital gains tax. The taxation rate
itself differs based on how long you hold your investment, whether
it's debt or equity, whether you have more than 1 Lakh gains in a year
etc. To further complicate things, there might be exit load
applicable.</p>
<p>Paisa takes a generic approach and let the user configure when a
commodity is safe to harvest. There are two fields related to tax
harvesting.</p>
<ol>
<li>
<p>harvest - specifies the number of days after which the commodity is
eligible for tax harvesting. This should be set based on fund exit
load, fund category etc</p>
</li>
<li>
<p>tax_category - The value can be either <code>equity</code> or <code>debt</code>. Based on
which various rules like grandfathering, cost inflation index
adjustment, etc. would be applied.</p>
</li>
</ol>
<pre><code class="language-yaml">commodities:
  - name: NIFTY
    type: mutualfund
    code: 120716
    harvest: 365
    tax_category: equity
  - name: ABSTF
    type: mutualfund
    code: 119533
    harvest: 1095
    tax_category: debt
</code></pre>
<p>The tax harvest page will show the list of accounts eligible for
harvesting.</p>
<h2 id="multiple-folios"><a class="header" href="#multiple-folios">Multiple Folios</a></h2>
<p>Paisa uses FIFO method within an Account. If you have multiple folios,
this might result in incorrect values. The issue can be solved by
using a different Account for each folio.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
    </body>
</html>
